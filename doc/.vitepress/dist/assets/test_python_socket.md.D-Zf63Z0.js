import{_ as t,c as l,o as i,ah as o}from"./chunks/framework.C2T-hxF6.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"test/python/socket.md","filePath":"test/python/socket.md"}'),a={name:"test/python/socket.md"};function r(s,e,c,d,n,p){return i(),l("div",null,[...e[0]||(e[0]=[o('<p>应用程序可以通过socket进行主机之间的网络通信，收发网络请求。一般使用情况有两种：</p><ul><li>低级别的网络服务支持基本的 Socket，它提供了标准的 BSD Sockets API，可以访问底层操作系统 Socket 接口的全部方法。</li><li><ul><li>高级别的网络服务模块 SocketServer， 它提供了服务器中心类，可以简化网络服务器的开发。</li></ul></li></ul><h2 id="基础" tabindex="-1">基础 <a class="header-anchor" href="#基础" aria-label="Permalink to “基础”">​</a></h2><p>核心方法：</p><ul><li>socket.socket([family[, type[, proto]]])：创建socket对象，- family: 套接字家族可以使 AF_UNIX 或者 AF_INET。- type: 套接字类型可以根据是面向连接的还是非连接分为 <code>SOCK_STREAM</code> 或 <code>SOCK_DGRAM</code>。- protocol: 一般不填默认为 0。 <ul><li>__服务端套接字：</li><li>.bind((host,port))</li><li>.listen(backlog) 最大挂起连接数</li><li>.accept() 阻塞式等待连接到来，被动接受tcp连接</li><li>__客户端套接字：</li><li>.connect(（hostname,port）)主动发起tcp连接服务器，如果出错，返回socket.error错误</li><li>.connect_ex() 报错时返回错误码，而不是具体的错误信息</li><li>__通用函数</li><li>.recv(buffersize[, flags])接收 TCP 数据，数据以字符串形式返回，bufsize 指定要接收的最大数据量。flag 提供有关消息的其他信息，通常可以忽略。</li><li>.send(data[, flags]) 发送 TCP 数据，将 string 中的数据发送到连接的套接字。返回值是要发送的字节数量，该数量可能小于 string 的字节大小。</li><li>.recvfrom() 接收 UDP 数据，与 recv() 类似，但返回值是（data,address）。其中 data 是包含接收数据的字符串，address 是发送数据的套接字地址。</li><li>.sendto() 发送 UDP 数据，将数据发送到套接字，address 是形式为（ipaddr，port）的元组，指定远程地址。返回值是发送的字节数。</li><li>close() 关闭套接字</li><li>.getsockname() 以元组形式返回自己的套接字(ipaddr,port)</li><li>.getpeername() 以元组形式返回连接自己的远程地址的套接字(ipaddr,port)</li><li>.settimeout(timeout) 设置超时时间</li><li>.gettimeout() 获取当前的超时时间</li><li>.setblocking(flag) 如果flag为0，则将套接字设为非阻塞模式，否则将套接字设为阻塞模式（默认值）。非阻塞模式下，如果调用recv()没有发现任何数据，或send()调用无法立即发送数据，那么将引起socket.error异常。</li><li>.gethostname() 获取当前的host</li></ul></li></ul><h2 id="udp相关" tabindex="-1">udp相关 <a class="header-anchor" href="#udp相关" aria-label="Permalink to “udp相关”">​</a></h2>',6)])])}const f=t(a,[["render",r]]);export{u as __pageData,f as default};
